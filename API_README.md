# üìã API –°–µ—Ä–≤–∏—Å—ã DaMIA –≤ TenderBot

TenderBot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ API —Å–µ—Ä–≤–∏—Å–æ–≤ –æ—Ç DaMIA –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–Ω–¥–µ—Ä–æ–≤.

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π

–í —Ñ–∞–π–ª–µ `config.py` –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```python
# –û—Å–Ω–æ–≤–Ω–æ–π API –¥–ª—è –∑–∞–∫—É–ø–æ–∫
DAMIA_API_KEY = '–≤–∞—à_–∫–ª—é—á_–¥–ª—è_–∑–∞–∫—É–ø–æ–∫'

# API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (–§–ù–°)
DAMIA_SUPPLIER_API_KEY = '–≤–∞—à_–∫–ª—é—á_–¥–ª—è_–ø—Ä–æ–≤–µ—Ä–∫–∏_–ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤'
DAMIA_SUPPLIER_BASE_URL = 'https://api-fns.ru/api'

# API –¥–ª—è –§–ù–° (–ï–ì–†–Æ–õ/–ï–ì–†–ò–ü)
DAMIA_FNS_API_KEY = '–≤–∞—à_–∫–ª—é—á_–¥–ª—è_–§–ù–°'
DAMIA_FNS_BASE_URL = 'https://api-fns.ru/api'

# API –¥–ª—è –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö –¥–µ–ª
DAMIA_ARBITR_API_KEY = '–≤–∞—à_–∫–ª—é—á_–¥–ª—è_–∞—Ä–±–∏—Ç—Ä–∞–∂–µ–π'
DAMIA_ARBITR_BASE_URL = 'https://api.damia.ru/arb'
```

## üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ API —Å–µ—Ä–≤–∏—Å—ã

### 1. API-–ó–∞–∫—É–ø–∫–∏ (`damia.py`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ —Ç–µ–Ω–¥–µ—Ä–∞—Ö –∏ –∑–∞–∫—É–ø–∫–∞—Ö
- **–ú–µ—Ç–æ–¥—ã**: 
  - `get_zakupka()` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫—É–ø–∫–µ
  - `get_contract()` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ
  - `zsearch()` - –ø–æ–∏—Å–∫ —Ç–µ–Ω–¥–µ—Ä–æ–≤

### 2. API-–§–ù–° (`fns_api.py`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π —á–µ—Ä–µ–∑ –ï–ì–†–Æ–õ/–ï–ì–†–ò–ü
- **–ú–µ—Ç–æ–¥—ã**:
  - `search_companies()` - –ø–æ–∏—Å–∫ –∫–æ–º–ø–∞–Ω–∏–π
  - `get_company_info()` - –¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏
  - `check_company()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞
  - `get_company_changes()` - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
  - `get_inn_by_passport()` - –ò–ù–ù –ø–æ –ø–∞—Å–ø–æ—Ä—Ç—É
  - `check_passport_validity()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Å–ø–æ—Ä—Ç–∞

### 3. API-–ê—Ä–±–∏—Ç—Ä–∞–∂–∏ (`arbitr_api.py`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö –¥–µ–ª
- **–ú–µ—Ç–æ–¥—ã**:
  - `get_arbitrage_case()` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–µ–ª–µ
  - `get_arbitrage_cases_by_inn()` - –¥–µ–ª–∞ –ø–æ –ò–ù–ù
  - `track_arbitrage_case()` - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–µ–ª
  - `get_tracked_cases()` - —Å–ø–∏—Å–æ–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö

### 4. API-–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (`damia_api.py`)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- **–ú–µ—Ç–æ–¥—ã**:
  - `get_fns()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –§–ù–°
  - `get_fssp()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –§–°–°–ü
  - `get_scoring()` - —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Å–∫–æ—Ä–∏–Ω–≥

## üîç –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
```python
from supplier_checker import check_supplier

# –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
result = await check_supplier("1234567890")
print(result['risk'])  # –£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞
```

### –ü–æ–∏—Å–∫ –∫–æ–º–ø–∞–Ω–∏–π
```python
from fns_api import fns_api

# –ü–æ–∏—Å–∫ –∫–æ–º–ø–∞–Ω–∏–π
companies = await fns_api.search_companies("–û–û–û –†–æ–≥–∞ –∏ –ö–æ–ø—ã—Ç–∞")
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö –¥–µ–ª
```python
from arbitr_api import arbitr_api

# –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –¥–µ–ª–∞ –∫–æ–º–ø–∞–Ω–∏–∏
cases = await arbitr_api.get_arbitrage_cases_by_inn("1234567890")
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–†–∞–∑–Ω—ã–µ –∫–ª—é—á–∏**: –ö–∞–∂–¥—ã–π API —Å–µ—Ä–≤–∏—Å —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª—é—á
2. **–õ–∏–º–∏—Ç—ã**: –£ –∫–∞–∂–¥–æ–≥–æ API –µ—Å—Ç—å —Å–≤–æ–∏ –ª–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
4. **Retry-–ª–æ–≥–∏–∫–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## üöÄ –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π

1. **API-–ó–∞–∫—É–ø–∫–∏**: https://damia.ru
2. **API-–§–ù–°**: https://api-fns.ru
3. **API-–ê—Ä–±–∏—Ç—Ä–∞–∂–∏**: https://damia.ru/arb
4. **API-–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤**: https://damia.ru/supplier

## üìù –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞
```python
from fns_api import fns_api

# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∞–Ω–∏–∏
company_info = await fns_api.get_company_info("1234567890")
check_result = await fns_api.check_company("1234567890")

print(f"–ö–æ–º–ø–∞–Ω–∏—è: {company_info['data']['name']}")
print(f"–ù–∞—Ä—É—à–µ–Ω–∏—è: {check_result['violations_count']}")
```

### –ê–Ω–∞–ª–∏–∑ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö –¥–µ–ª
```python
from arbitr_api import arbitr_api

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö –¥–µ–ª
cases = await arbitr_api.get_arbitrage_cases_by_inn("1234567890")

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
summary = arbitr_api.format_arbitrage_summary(cases)
print(summary)
``` 